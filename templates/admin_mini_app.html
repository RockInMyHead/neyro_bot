<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å - –ù–µ–π—Ä–æ-–±–æ—Ç</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="admin_mini_app.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='admin_app/admin_mini_app.css') }}">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîß</text></svg>">
</head>
<body>
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="header">
            <h1>üîß –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h1>
            <p>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">

            <!-- –ú–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç -->
            <div class="card">
                <h2>üé≠ –ú–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</h2>
                <div class="mixed-text-container">
                    <div class="mixed-text" id="mixed-text">
                        –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥...
                    </div>
                    <div class="mixed-text-time" id="mixed-text-time">
                        –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –Ω–∏–∫–æ–≥–¥–∞
                    </div>
                </div>
                <button class="btn btn-secondary" onclick="generateMixedText()">üé≠ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å</button>
            </div>

            <!-- –í—ã–±–æ—Ä –±–∞–∑–æ–≤–æ–≥–æ –ø—Ä–æ–º—Ç–∞ -->
            <div class="card">
                <h2>üé¨ –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–º—Ç—ã —Ñ–∏–ª—å–º–æ–≤</h2>
                <div class="prompt-selector">
                    <div class="form-group">
                        <label for="base-prompt">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–º—Ç —Ñ–∏–ª—å–º–∞:</label>
                        <select id="base-prompt" class="prompt-select">
                            <option value="pirates">–ü–∏—Ä–∞—Ç—ã –ö–∞—Ä–∏–±—Å–∫–æ–≥–æ –º–æ—Ä—è</option>
                            <option value="got">–ò–≥—Ä–∞ –ø—Ä–µ—Å—Ç–æ–ª–æ–≤</option>
                            <option value="sherlock">–®–µ—Ä–ª–æ–∫ –•–æ–ª–º—Å</option>
                            <option value="ghostbusters">–û—Ö–æ—Ç–Ω–∏–∫–∏ –∑–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è–º–∏</option>
                            <option value="interstellar">–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä</option>
                            <option value="leon">–õ–µ–æ–Ω</option>
                            <option value="batman">–ë—ç—Ç–º–µ–Ω</option>
                            <option value="rocky">–†–æ–∫–∫–∏</option>
                            <option value="gladiator">–ì–ª–∞–¥–∏–∞—Ç–æ—Ä</option>
                            <option value="mission">–ú–∏—Å—Å–∏—è: –Ω–µ–≤—ã–ø–æ–ª–Ω–∏–º–∞</option>
                            <option value="professionnel">Le Professionnel (1981)</option>
                            <option value="starwars">–ó–≤—ë–∑–¥–Ω—ã–µ –≤–æ–π–Ω—ã</option>
                            <option value="killbill">–£–±–∏—Ç—å –ë–∏–ª–ª–∞</option>
                            <option value="love">–ú—ã. –í–µ—Ä–∏–º –≤ –ª—é–±–æ–≤—å</option>
                            <option value="intouchables">1+1</option>
                            <option value="bond">–ê–≥–µ–Ω—Ç 007</option>
                            <option value="pulp">–ö—Ä–∏–º–∏–Ω–∞–ª—å–Ω–æ–µ —á—Ç–∏–≤–æ</option>
                            <option value="soviet">–°–≤–æ–π —Å—Ä–µ–¥–∏ —á—É–∂–∏—Ö, —á—É–∂–æ–π —Å—Ä–µ–¥–∏ —Å–≤–æ–∏—Ö</option>
                            <option value="swan">–õ–µ–±–µ–¥–∏–Ω–æ–µ –æ–∑–µ—Ä–æ</option>
                            <option value="custom">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π</option>
                        </select>
                    </div>
                    
                    <div class="form-group" id="custom-prompt-group" style="display: none;">
                        <label for="custom-prompt-text">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º—Ç:</label>
                        <textarea id="custom-prompt-text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø—Ä–æ–º—Ç..."></textarea>
                    </div>
                    
                    <div class="prompt-preview" id="prompt-preview">
                        <h4>–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä:</h4>
                        <div class="prompt-text" id="prompt-text">
                            –ü–∏—Ä–∞—Ç—ã –ö–∞—Ä–∏–±—Å–∫–æ–≥–æ –º–æ—Ä—è<br>
                            –ú—Ä–∞—á–Ω—ã–π –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–Ω—ã–π —Ä–µ–∞–ª–∏–∑–º –≤–æ –≤—Å–µ–ª–µ–Ω–Ω–æ–π –ü–∏—Ä–∞—Ç–æ–≤ –∫–∞—Ä–∏–±—Å–∫–æ–≥–æ –º–æ—Ä—è; –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–µ –∫–æ—Ä–∞–±–ª–∏ —Å –ø–∞—Ä—É—Å–∞–º–∏ –∏ –ø—É—à–∫–∞–º–∏; –ø–∏—Ä–∞—Ç—ã; –º–æ—Ä—Å–∫–∞—è –¥—ã–º–∫–∞, –∫–æ–Ω—Ç—Ä–∞—Å—Ç, —Ä–∏–º-—Å–≤–µ—Ç; –ø–∞–ª–∏—Ç—Ä–∞: —Å—Ç–∞–ª—å/—Å–≤–∏–Ω–µ—Ü –≤–æ–¥—ã, –∏–∑—É–º—Ä—É–¥/–±–∏—Ä—é–∑–∞, –º–æ—Ö, –º–æ–∫—Ä–æ–µ –¥–µ—Ä–µ–≤–æ, –ø–∞—Ç–∏–Ω–∞ –±—Ä–æ–Ω–∑—ã, —è–Ω—Ç–∞—Ä–Ω—ã–µ –±–ª–∏–∫–∏; —Ñ–∞–∫—Ç—É—Ä—ã: —Å–æ–ª—å –Ω–∞ –∫–∞–Ω–∞—Ç–∞—Ö, –∫–∞–º–µ–Ω—å, —Ä–≤–∞–Ω–∞—è –ø–∞—Ä—É—Å–∏–Ω–∞, –±—Ä—ã–∑–≥–∏; —à–∏—Ä–æ–∫–∏–π –ø–ª–∞–Ω, –º–∞—Å—à—Ç–∞–±, –±–µ–∑ –∫—Ä—É–ø–Ω—ã—Ö –ª–∏—Ü.
                        </div>
                    </div>
                    
                    <div class="prompt-controls">
                        <button class="btn btn-primary" onclick="updateBasePrompt()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–º—Ç</button>
                        <button class="btn btn-success" onclick="nextPrompt()">‚û°Ô∏è –î–∞–ª–µ–µ</button>
                    </div>
                </div>
                
                <!-- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º—Ç–æ–≤ -->
                <div class="prompt-editor">
                    <h3>üìã –û—á–µ—Ä–µ–¥—å –ø—Ä–æ–º—Ç–æ–≤ (–ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞)</h3>
                    <p class="queue-info">–¢–µ–∫—É—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–º—Ç –æ—Ç–º–µ—á–µ–Ω –∑–µ–ª–µ–Ω–æ–π —Ä–∞–º–∫–æ–π</p>
                    <div class="prompt-list" id="prompt-list">
                        <!-- –ü—Ä–æ–º—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    <button class="btn btn-secondary" onclick="addNewPrompt()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–º—Ç</button>
                </div>
            </div>

            <div class="card">
                <h2>üé® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ –º–∏–∫—Å–∞</h2>
                <div class="image-generator-container">
                    <p class="image-info-text">
                        –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                    </p>
                    <button class="btn btn-primary" onclick="generateImageFromMix()" id="generateImageBtn">
                        üé® –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    </button>
                    
                    <div class="loading-container" id="imageLoading" style="display: none;">
                        <div class="spinner"></div>
                        <p>–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ... –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥</p>
                    </div>
                    
                    <div class="generated-image-result" id="generatedImageResult" style="display: none;">
                        <div class="image-wrapper">
                            <img id="generatedImage" class="generated-image" alt="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
                        </div>
                        <div class="image-details">
                            <p><strong>–ü—Ä–æ–º–ø—Ç:</strong> <span id="imagePrompt"></span></p>
                            <p><strong>–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:</strong> <span id="imageSize"></span></p>
                            <p><strong>–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:</strong> <span id="imageTime"></span></p>
                        </div>
                        <div class="image-actions">
                            <button class="btn btn-success" onclick="downloadGeneratedImage()">‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å</button>
                            <button class="btn btn-secondary" onclick="generateImageFromMix()">üîÑ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–µ</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è -->
            <div class="card">
                <h2>üí¨ –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è</h2>
                <div class="messages-container" id="messages-container">
                    <div class="no-messages">–ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π</div>
                </div>
                <button class="btn btn-secondary" onclick="refreshMessages()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
            </div>


            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ—Ä—Ç–æ–º -->
            <div class="card">
                <h2>üéº –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ—Ä—Ç–æ–º</h2>
                <div class="concert-controls">
                    <div class="concert-section">
                        <h3>üìΩÔ∏è –°–æ–æ–±—â–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ç—Ä–µ–∫–æ–º</h3>
                        <div class="form-group">
                            <label for="movie-title">–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞:</label>
                            <input type="text" id="movie-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Blade Runner">
                        </div>
                        <div class="form-group">
                            <label for="movie-description">–ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:</label>
                            <textarea id="movie-description" placeholder="–û —á–µ–º —Ñ–∏–ª—å–º, –∫–∞–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–¥–Ω–∏–º–∞–µ—Ç..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="movie-actors">–ê–∫—Ç—ë—Ä—ã/–ø–µ—Ä—Å–æ–Ω–∞–∂–∏:</label>
                            <input type="text" id="movie-actors" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Harrison Ford, Rutger Hauer">
                        </div>
                        <button class="btn btn-primary" onclick="sendTrackMessage()">üéµ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ç—Ä–µ–∫–æ–º</button>
                    </div>
                    
                    <div class="concert-section">
                        <h3>üé≠ –û—Ç–≤–µ—Ç –Ω–∞ –º—ã—Å–ª–∏ –∑—Ä–∏—Ç–µ–ª–µ–π</h3>
                        <div class="form-group">
                            <label for="ai-comment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç –Ω–µ–π—Ä–æ–Ω–∫–∏:</label>
                            <textarea id="ai-comment" placeholder="–ö—Ä–∞—Ç–∫–∏–π —É–º–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–≤–µ—Ç–æ–≤ –∑—Ä–∏—Ç–µ–ª–µ–π..."></textarea>
                        </div>
                        <button class="btn btn-secondary" onclick="sendAudienceResponse()">üí≠ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç –∑—Ä–∏—Ç–µ–ª—è–º</button>
                    </div>
                    
                    <div class="concert-section">
                        <h3>üéâ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ—Ä—Ç–∞</h3>
                        <button class="btn btn-success" onclick="sendConcertEnd()">üèÅ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h2>
                <div class="control-buttons">
                    <button class="btn btn-danger" onclick="resetStats()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
                    <button class="btn btn-warning" onclick="exportData()">üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
                </div>
            </div>
        </main>

        <!-- –ü–æ–¥–≤–∞–ª -->
        <footer class="footer">
            <p>–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</p>
        </footer>
    </div>

    <script src="admin_mini_app.js"></script>
    <script src="{{ url_for('static', filename='admin_app/admin_mini_app.js') }}"></script>
</body>
</html>
